今日も、色々と困っているねぇ。

カンマ区切りのCSVファイルをうまく使いたいって？
そんなときは、配列の配列を使えばいいさ！

エクセルの表をイメージできるかい？

あれみたいに縦と横で検索できればいいんだろう？

A１：ゴーカイレッド
B1：ゴーカイブルー
A2：ゴセイレッド
B2:ゴセイブルー

こんな感かな？

じゃあ、まずopenでファイルを@listに読み込んでおこう
ファイルの内容

ゴーカイレッド,ゴーカイブルー
ゴセイレッド,ゴセイブルー


sysopen (my $fh, $filepath, O_RDONLY)or die;
my @list = <$fh>;
close $fh;

これで準備はできたね。（日本語を使っているときは常に文字コードは意識しておこう）

じゃあ、２次元配列にするよ
my $sentai =[];
foreach (@list){
  chomp $_;
  my @humen = split(/,/, $_);
  push @$sentai, \@humen;
}

なんと、これだけなんだ。
簡単だろう。

これで
$sentai->[0][0];  //ゴーカイレッド
$sentai->[1][1];  //ゴセイブルー

って表示ができる。
これで、perl使いの道が一歩勧めたね。

参考URL：http://d.hatena.ne.jp/perlcodesample/20100930/1278596435
