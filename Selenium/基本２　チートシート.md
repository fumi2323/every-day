良いサイトを見つけた
元サイト：http://morizyun.github.io/web/selenium-cheat-sheet.html

ここは、あくまで覚えるためのノート
___

## ブラウザを開く
```
driver = Selenium::WebDriver.for :chrome
```
Chrom = :chrome, Firefox = :firefox, IE = :ie, Safari = :safari, Edge = :edge

## URLを開く
```
driver.get 'http://www.google.co.jp'
# or
driver.navigata.to 'http://www.google.co.jp'
```
WebDriverはロードを待たないので待ち時間を設定しておく

## 特定の要素を取得する
- `find_element` :最初に見つかった要素
- `find_elements` :見つかった要素全部
例
```
# IDが一致する要素を返す
el = driver.find_element(:id, 'some_id')

# クラス名が一致する要素を返す
el = driver.find_element(:class, 'some_class_name')

# HTMLタグの名前が一致する
el = driver.find_element(:tag_name, 'div')

# アンカーテキスト（リンクテキスト)が一致する
el = driver.fine_element(:link, "anchor_text')

# Xpath形式で要素を指定する
el = driver.find_element(:xpath, "//a[@href='/login']")

# cssセレクターで要素を指定する
el = driver.find_element(:css, 'some_id')
```

## 要素を使った操作
### 要素のテキストを取得
```
driver.find_element(:id, 'some_id').text
```
### 要素の属性値の取得
```
driver.find_element(:id, 'some_id').attribute('class')
### Click、テキスト入力
```
# ボタンやリンクをクリックする
driver.find_element(:id, 'some_id').click

# テキストフィールドに値を入れる
driver.find_element(:id, 'some_field_id).send_keys 'テキスト入力'
driver.find_element(:id, 'some_field_id).set 'テキスト入力'

# テキストフィールドの値を空にする
# ただし、type=file の場合はclearメソッドはエラーになる
driver.find_element(:id, 'some_field_id).clear
```
### キーボードの操作
キーボードで`enter`を実行する場合はこれ
```
driver.find_element(:id, '#q_name').native.send_keys(:return)
driver.find_element(:id, '#q_name').native.send_keys(:enter)
```
### チェックボックス・ラジオボタン
```
# チェックボックス・ラジオボタンを選択する
# ラジオボタンがセットされた場合にのみ、チェックをリクック
unless driver.find_element(:id, 'some_radio_id').selected?
  driver.find_element(:id, 'some_radio_id').click
end

# チェックボックス・ラジオボタンの選択を解除する
driver.find_element(:id, 'some_check_box').clear
```
### セレクトタグ
```
# セレクトタグの取得
select = Selenium::WebDriver::Support::Select.new(driver.find_element(:id, 'some_select_id'))
select.select_by(:value, 'value') #　value値で選択
select.select_by(:text, '表示テキスト') # 表示テキストで選択
select.select_by(:index, 3) # インデックス(0始まり）で選択

# すべてのオプションを取得
all_options = select.find_elements(:tag_name, 'option')
```
### 要素の存在確認
```
# １件以上あれば要素が存在すると判定
driver.find_elements(:id, 'some_id').size >= 1

def has_some_id?
  driver.find_element(:id, 'some_id')
  true
rescue
  false
end
```
